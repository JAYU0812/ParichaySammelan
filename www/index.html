<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SHRI BRAHMAN SWARNKAR SAMAJ SAMUHIK VIVAH UTSAV SAMITI KHEDBRAHMA DWARA AYOJIT YUVAK-YUVATI PARICHAY SAMMELAN (20-2-2026) 
  </title>
  <style>
    :root {
      --bg-color: #ffffff;
      --text-primary: #111827;
      --text-secondary: #6b7280;
      --accent-color: #000000;
      --accent-hover: #1a1a1a;
      --input-bg: #f9fafb;
      --input-border: #d1d5db;
      --input-border-focus: #2563eb;
      --radius: 0.75rem;
      --transition-speed: 0.3s;
      --max-width: 1200px;
      --progress-bar-height: 4px;
      --shadow-dark: rgba(0, 0, 0, 0.15);
    }
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap');
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0; font-family: 'Inter', sans-serif;
      background: var(--bg-color);
      color: var(--text-secondary);
      font-size: 18px;
      line-height: 1.6;
    }
    .container {
      max-width: var(--max-width);
      padding: 0 1rem;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 60px;
      border-bottom: 1px solid #e5e7eb;
      position: sticky;
      top: 0;
      background: var(--bg-color);
      z-index: 100;
    }
    .logo {
      font-weight: 800;
      font-size: 1.25rem;
      color: var(--accent-color);
      user-select: none;
      letter-spacing: -0.02em;
    }
    .admin-link {
      font-weight: 600;
      color: var(--accent-color);
      text-decoration: none;
      border: 2px solid var(--accent-color);
      border-radius: var(--radius);
      padding: 0.3rem 1rem;
      transition: all var(--transition-speed);
    }
    .admin-link:hover,
    .admin-link:focus {
      background-color: var(--accent-color);
      color: var(--bg-color);
      transform: scale(1.05);
      outline: none;
    }
    main {
      padding: 2rem 1rem 4rem;
      max-width: 650px;
      margin: 0 auto;
      box-shadow: 0 6px 24px var(--shadow-dark);
      border-radius: var(--radius);
      background: var(--bg-color);
      color: var(--text-primary);
    }
    h1 {
      font-weight: 800;
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      user-select: none;
      text-align: center;
      letter-spacing: -0.03em;
    }
    .form-group {
      margin-bottom: 1.25rem;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      user-select: none;
      color: var(--accent-color);
    }
    input[type="text"],
    input[type="email"],
    input[type="number"],
    input[type="tel"],
    input[type="file"],
    textarea {
      width: 100%;
      border-radius: var(--radius);
      border: 1.5px solid var(--input-border);
      padding: 0.75rem 1rem;
      background-color: var(--input-bg);
      font-family: inherit;
      font-weight: 500;
      font-size: 1rem;
      color: var(--text-primary);
      transition:
        border-color var(--transition-speed) ease,
        box-shadow var(--transition-speed) ease;
    }
    input:focus, textarea:focus {
      border-color: var(--input-border-focus);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
      outline: none;
      background-color: #fff;
    }
    textarea {
      resize: vertical;
      min-height: 80px;
    }
    .radio-group {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }
    .radio-group label {
      font-weight: 500;
      cursor: pointer;
      user-select: none;
    }
    input[type="radio"] {
      accent-color: var(--accent-color);
      width: 1.15rem;
      height: 1.15rem;
      transition: transform var(--transition-speed);
      cursor: pointer;
    }
    input[type="radio"]:hover,
    input[type="radio"]:focus-visible {
      transform: scale(1.1);
      outline-offset: 2px;
    }
    input[type="checkbox"] {
      width: 1.3rem;
      height: 1.3rem;
      accent-color: var(--accent-color);
      cursor: pointer;
      transition: transform var(--transition-speed);
      margin-right: 0.5rem;
    }
    input[type="checkbox"]:hover,
    input[type="checkbox"]:focus-visible {
      transform: scale(1.1);
      outline-offset: 2px;
    }
    button[type="submit"] {
      width: 100%;
      padding: 1.25rem 0;
      font-weight: 700;
      font-size: 1.25rem;
      border-radius: var(--radius);
      border: none;
      background-color: var(--accent-color);
      color: var(--bg-color);
      box-shadow: 0 10px 18px rgba(0,0,0,0.12);
      cursor: pointer;
      transition:
        background-color var(--transition-speed),
        transform var(--transition-speed),
        box-shadow var(--transition-speed);
      user-select: none;
      margin-top: 1.5rem;
      will-change: transform, box-shadow;
    }
    button[type="submit"]:hover,
    button[type="submit"]:focus {
      background-color: var(--accent-hover);
      transform: scale(1.05);
      box-shadow: 0 15px 25px rgba(0,0,0,0.2);
      outline: none;
    }
    #progressBar {
      height: 4px;
      border-radius: var(--radius);
      background: linear-gradient(90deg, #2563eb, #3b82f6, #60a5fa);
      width: 0;
      margin-top: 1rem;
      transition: width 1.2s ease;
      will-change: width;
      display: none;
    }
    #permAddressGroup {
      margin-bottom: 1.25rem;
    }
    @media (max-width:700px) {
      main {
        padding: 2rem 1rem 3rem;
      }
    }
  </style>
</head>
<body>
  <header class="container" role="banner">
    <div class="logo" tabindex="0" aria-label="App Logo">SBSSSVYP SAMITI KHEDBRAHMA</div>
    <a class="admin-link" href="admin.html" aria-label="Go to admin panel">Admin Panel</a>
  </header>

  <main role="main">
    <form id="userForm" aria-label="User registration form" novalidate>
      <h1>SHRI BRAHMAN SWARNKAR SAMAJ SAMUHIK VIVAH UTSAV SAMITI KHEDBRAHMA DWARA AYOJIT YUVAK-YUVATI PARICHAY SAMMELAN (20-2-2026)</h1>

      <!-- Form Groups -->
      <div class="form-group">
        <label for="email">Email<span aria-hidden="true">*</span></label>
        <input type="email" id="email" name="email" placeholder="jay13soni@gmail.com" required autocomplete="email" />
      </div>
      <div class="form-group">
        <label for="photo">Upload Your Passport Size Photo<span aria-hidden="true">*</span></label>
        <input type="file" id="photo" name="photo" accept="image/*" required aria-describedby="photoHelp" />
        <small id="photoHelp" style="color:#6b7280;font-size:0.75rem;">JPEG, PNG, GIF accepted</small>
      </div>
      <div class="form-group"><label for="name">Name<span aria-hidden="true">*</span></label><input type="text" id="name" name="name" placeholder="Full Name" required autocomplete="name" /></div>
      <div class="form-group"><label for="age">Age<span aria-hidden="true">*</span></label><input type="number" id="age" name="age" placeholder="18" min="18" max="99" required /></div>
      <div class="form-group"><label for="whatsapp">WhatsApp Mobile Number<span aria-hidden="true">*</span></label><input type="tel" id="whatsapp" name="whatsapp" placeholder="+91 99999 99999" pattern="^\+?[0-9\s]{10,14}$" required /></div>

      <div class="form-group">
        <label>Gender<span aria-hidden="true">*</span></label>
        <div class="radio-group" role="radiogroup" aria-required="true" tabindex="0">
          <label><input type="radio" name="gender" value="Male" required /> Male</label>
          <label><input type="radio" name="gender" value="Female" required /> Female</label>
        </div>
      </div>

      <div class="form-group"><label for="height">Height (in cms)<span aria-hidden="true">*</span></label><input type="number" id="height" name="height" min="30" max="300" placeholder="176" required /></div>

      <div class="form-group">
        <label>Manglik (Mangal)<span aria-hidden="true">*</span></label>
        <div class="radio-group" role="radiogroup" aria-required="true" tabindex="0">
          <label><input type="radio" name="manglik" value="Yes" required /> Yes</label>
          <label><input type="radio" name="manglik" value="No" required /> No</label>
        </div>
      </div>

      <div class="form-group">
        <label>If a Divorcee<span aria-hidden="true">*</span></label>
        <div class="radio-group" role="radiogroup" aria-required="true" tabindex="0">
          <label><input type="radio" name="divorcee" value="Yes" required /> Yes</label>
          <label><input type="radio" name="divorcee" value="No" required /> No</label>
        </div>
      </div>

      <div class="form-group"><label for="study">Study<span aria-hidden="true">*</span></label><input type="text" id="study" name="study" placeholder="Your education or field of study" required /></div>
      <div class="form-group"><label for="income">Yearly Income<span aria-hidden="true">*</span></label><input type="number" step="0.01" id="income" name="income" placeholder="500000.00" min="0" required /></div>
      <div class="form-group"><label for="aadhaar">Aadhaar Card Number<span aria-hidden="true">*</span></label><input type="text" pattern="^\d{12}" maxlength="12" id="aadhaar" name="aadhaar" placeholder="123412341234" required /></div>
      <div class="form-group"><label for="fatherName">Father's Full Name<span aria-hidden="true">*</span></label><input type="text" id="fatherName" name="fatherName" placeholder="Father's Full Name" required /></div>
      <div class="form-group"><label for="fatherGautra">Father's Gautra<span aria-hidden="true">*</span></label><input type="text" id="fatherGautra" name="fatherGautra" placeholder="Gautra" required /></div>
      <div class="form-group"><label for="motherName">Mother's Name<span aria-hidden="true">*</span></label><input type="text" id="motherName" name="motherName" placeholder="Mother's Name" required /></div>
      <div class="form-group"><label for="motherGautra">Mother's Gautra<span aria-hidden="true">*</span></label><input type="text" id="motherGautra" name="motherGautra" placeholder="Gautra" required /></div>
      <div class="form-group"><label for="presentAddress">Present Address<span aria-hidden="true">*</span></label><textarea id="presentAddress" name="presentAddress" placeholder="Full present address" required></textarea></div>
      <div class="form-group" style="display:flex; align-items:center;">
        <input type="checkbox" id="permanentAddressToggle" name="permanentAddressToggle" aria-checked="false" aria-label="Permanent address same as present address" />
        <label for="permanentAddressToggle" style="margin:0 0 0 0.5rem; user-select:none;">Permanent Address same as Present Address</label>
      </div>
      <div class="form-group" id="permAddressGroup">
        <label for="permanentAddress">Permanent Address<span aria-hidden="true">*</span></label>
        <textarea id="permanentAddress" name="permanentAddress" placeholder="Full permanent address"></textarea>
      </div>
      <button type="submit" aria-live="polite" aria-atomic="true">Submit</button>
      <div id="progressBar" aria-hidden="true" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
    </form>
  </main>

 <script>
  (() => {
    const permToggle = document.getElementById('permanentAddressToggle');
    const permGroup = document.getElementById('permAddressGroup');
    permGroup.style.display = 'block';

    function updatePermanentAddressField() {
      if (permToggle.checked) {
        permGroup.style.display = 'none';
        document.getElementById('permanentAddress').value = '';
        permToggle.setAttribute('aria-checked', 'true');
      } else {
        permGroup.style.display = 'block';
        permToggle.setAttribute('aria-checked', 'false');
      }
    }

    permToggle.addEventListener('change', updatePermanentAddressField);
    updatePermanentAddressField();

    const form = document.getElementById('userForm');
    const progressBar = document.getElementById('progressBar');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      progressBar.style.width = '0%';
      progressBar.style.display = 'block';

      // Read photo
      const photoInput = form.photo;
      let photoBase64 = '';
      if (photoInput.files.length > 0) {
        photoBase64 = await new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = () => resolve(reader.result);
          reader.onerror = reject;
          reader.readAsDataURL(photoInput.files[0]);
        });
      } else {
        alert('Please upload a photo.');
        progressBar.style.display = 'none';
        return;
      }

      // Prepare data
      const data = {
        email: form.email.value,
        photo_url: photoBase64,
        name: form.name.value,
        age: Number(form.age.value),
        whatsapp: form.whatsapp.value,
        gender: form.gender.value,
        height_cm: Number(form.height.value),
        manglik: form.manglik.value,
        divorcee: form.divorcee.value,
        study: form.study.value,
        yearly_income: parseFloat(form.income.value),
        aadhaar: form.aadhaar.value,
        father_name: form.fatherName.value,
        father_gautra: form.fatherGautra.value,
        mother_name: form.motherName.value,
        mother_gautra: form.motherGautra.value,
        present_address: form.presentAddress.value,
        permanent_address: form.permanentAddress.value || form.presentAddress.value,
      };

      try {
        // Animate progress bar while waiting
        let width = 0;
        const interval = setInterval(() => {
          if (width >= 90) {
            clearInterval(interval);
          } else {
            width += Math.random() * 10 + 5;
            progressBar.style.width = Math.min(width, 100) + '%';
          }
        }, 120);

        // Submit data to server
        const response = await fetch('https://parichay-sammelan.wuaze.com/submit-form.php', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data),
        });

        clearInterval(interval);
        progressBar.style.width = '100%';

        const result = await response.json();
        if (response.ok && result.success) {
          alert(`Form submitted successfully! Your unique ID is: ${result.unique_id}`);
          form.reset();
          updatePermanentAddressField();
        } else {
          throw new Error(result.error || 'Submission failed');
        }
      } catch (err) {
        alert(`Error: ${err.message}`);
      } finally {
        progressBar.style.display = 'none';
      }
    });
  })();
</script>

</body>
</html>
